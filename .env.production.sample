# Viral Clip AI — Production environment template
# Copy this file to `.env.production`, fill in secure values, and keep the real file outside of version control.
# Consider sourcing secrets from a vault or your cloud provider rather than storing them on disk.

# --- Core API configuration ---
PROJECT_NAME=Viral Clip AI API
API_V1_PREFIX=/v1
SECRET_KEY=<generate-a-64-character-random-secret>
ACCESS_TOKEN_EXPIRE_MINUTES=60
RATE_LIMIT_REQUESTS_PER_MINUTE=120
RATE_LIMIT_WINDOW_SECONDS=60
SUBSCRIPTION_TRIAL_DAYS=14
SUBSCRIPTION_CYCLE_DAYS=30
CORS_ORIGINS=["https://app.example.com","https://admin.example.com"]
DEFAULT_ORG_ID=

# --- Database ---
POSTGRES_USER=<db-bootstrap-user>
POSTGRES_PASSWORD=<db-bootstrap-password>
POSTGRES_DB=<db-bootstrap-name>
DATABASE_URL=postgresql+asyncpg://<db-user>:<db-password>@<postgres-hostname>:5432/<db-name>

# --- Redis / Celery ---
REDIS_URL=redis://<redis-hostname>:6379/0
CELERY_BROKER_URL=${REDIS_URL}
CELERY_RESULT_BACKEND=${REDIS_URL}

# --- Worker ↔ API communication ---
API_BASE_URL=https://api.example.com
WORKER_SERVICE_TOKEN=<long-random-worker-token>
WORKER_PROMETHEUS_PORT=
WORKER_PROMETHEUS_HOST=0.0.0.0

# --- Object storage (S3 / MinIO) ---
MINIO_ROOT_USER=
MINIO_ROOT_PASSWORD=
S3_ENDPOINT_URL=https://s3.<region>.amazonaws.com
S3_BUCKET=<s3-bucket-name>
S3_ACCESS_KEY=<access-key-id>
S3_SECRET_KEY=<secret-access-key>
S3_REGION=<aws-region>
S3_SECURE=true
STORAGE_UPLOAD_EXPIRY_SECONDS=900

# --- Frontend / QA integrations ---
VITE_API_BASE_URL=https://api.example.com
QA_REPORT_API_BASE_URL=https://api.example.com
QA_REPORT_TOKEN=
QA_REPORT_ORG_ID=

# --- Model / media processing defaults ---
WHISPER_MODEL_NAME=base
WHISPER_COMPUTE_TYPE=float16
ALIGNMENT_MODEL_NAME=WAV2VEC2_ASR_BASE_960H
ALIGNMENT_DEVICE=
CLIP_MODEL_NAME=ViT-B-32
CLIP_MODEL_PRETRAINED=openai
CLIP_SAMPLE_INTERVAL_SECONDS=2
CLIP_MOTION_WEIGHT=0.5
CLIP_AUDIO_WEIGHT=0.3
CLIP_KEYWORD_WEIGHT=0.2
CLIP_DURATION_WEIGHT=0.15
CLIP_CONFIDENCE_BIAS=0.25
CLIP_CONFIDENCE_THRESHOLD=0.55
CLIP_MIN_DURATION_SECONDS=12
CLIP_MAX_DURATION_SECONDS=45
CLIP_TARGET_DURATION_SECONDS=22
TTS_MODEL_NAME=tts_models/multilingual-multi-dataset/xtts_v2
TTS_SPEAKER_WAV=
TTS_MUSIC_GAIN_DB=-9.0
TTS_VOICE_GAIN_DB=-1.5
TTS_LOUDNESS_TARGET_I=-16.0
TTS_LOUDNESS_TRUE_PEAK=-1.5
TTS_LOUDNESS_RANGE=11.0
RETELL_SUMMARY_SENTENCES=8
EXPORT_VIDEO_PRESET=veryfast
EXPORT_BRAND_INTRO_OBJECT_KEY=
EXPORT_BRAND_OUTRO_OBJECT_KEY=
EXPORT_WATERMARK_OBJECT_KEY=
EXPORT_WATERMARK_POSITION=bottom-right
EXPORT_WATERMARK_SCALE=0.18
SUBTITLE_DEFAULT_PRESET=brand-kit
SUBTITLE_BRAND_PRESET_NAME=brand-kit
SUBTITLE_BRAND_FONT_FAMILY=
SUBTITLE_BRAND_TEXT_COLOR=
SUBTITLE_BRAND_BACKGROUND_COLOR=
SUBTITLE_BRAND_STROKE_COLOR=
SUBTITLE_BRAND_HIGHLIGHT_COLOR=
SUBTITLE_BRAND_UPPERCASE=false

# --- Billing / pricing ---
PLAN_PRICE_FREE_IDR=0
PLAN_PRICE_PRO_IDR=299000
PLAN_PRICE_BUSINESS_IDR=899000
PLAN_MINUTES_QUOTA_FREE=600
PLAN_MINUTES_QUOTA_PRO=3000
PLAN_MINUTES_QUOTA_BUSINESS=10000
PLAN_CLIP_QUOTA_FREE=50
PLAN_CLIP_QUOTA_PRO=250
PLAN_CLIP_QUOTA_BUSINESS=1000
PLAN_RETELL_QUOTA_FREE=5
PLAN_RETELL_QUOTA_PRO=40
PLAN_RETELL_QUOTA_BUSINESS=120
PLAN_STORAGE_QUOTA_GB_FREE=50
PLAN_STORAGE_QUOTA_GB_PRO=250
PLAN_STORAGE_QUOTA_GB_BUSINESS=1024
MIDTRANS_SERVER_KEY=<midtrans-server-key>
MIDTRANS_CLIENT_KEY=<midtrans-client-key>
MIDTRANS_IS_PRODUCTION=true
MIDTRANS_APP_NAME=Viral Clip AI

# --- Observability ---
ENABLE_PROMETHEUS_METRICS=true
PROMETHEUS_METRICS_PATH=/metrics/prometheus
OTEL_EXPORTER_OTLP_ENDPOINT=https://otel-collector.example.com/v1/traces
OTEL_EXPORTER_OTLP_HEADERS=Authorization=Bearer <token>
OTEL_SERVICE_NAME=viral-clip-api

# --- Reverse proxy ---
NGINX_HTTP_PORT=80
